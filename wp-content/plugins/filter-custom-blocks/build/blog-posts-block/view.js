document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".wp-block-block-development-examples-blog-posts-block");if(!e.length)return;!function(){if(!document.querySelector('meta[name="viewport"]')){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0",document.head.appendChild(e)}}();const n=(window.wpApiSettings||{}).root||"/wp-json/",t=window.innerWidth<768;e.forEach((function(e){let t;try{t=JSON.parse(e.dataset.attributes||"{}")}catch(e){return void console.error("Error parsing block attributes:",e)}const o=e.querySelector(".blog-posts-grid");if(!o)return;o.style.display="grid",o.style.width="100%",window.innerWidth<480?(o.style.gridTemplateColumns="1fr",o.style.gap="16px"):window.innerWidth<992?(o.style.gridTemplateColumns="repeat(2, 1fr)",o.style.gap="20px"):window.innerWidth<1200?(o.style.gridTemplateColumns="repeat(3, 1fr)",o.style.gap="24px"):(o.style.gridTemplateColumns="repeat(4, 1fr)",o.style.gap="24px");const r=e.querySelector(".blog-posts-loading");r&&r.remove(),function(e,t){const{postsToShow:o,categories:r,tags:i,order:d,orderBy:l,buttonColor:s,buttonTextColor:a,cardBackgroundColor:p,textColor:c,borderRadius:g}=e;let m=n;m.endsWith("/")||(m+="/");let u=`${m}wp/v2/posts?_embed&per_page=${o||4}&order=${d||"desc"}&orderby=${l||"date"}`;r&&r.length>0&&(u+=`&categories=${r.join(",")}`),i&&i.length>0&&(u+=`&tags=${i.join(",")}`),fetch(u).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((n=>{n&&n.length?function(e,n,t){n.innerHTML="";const{buttonColor:o,buttonTextColor:r,cardBackgroundColor:i,textColor:d,borderRadius:l}=t,s=window.innerWidth<768,a=s?"16px":"24px",p=s?"1.25rem":"1.5rem",c=s?"0.9rem":"1rem",g=s?"8px 24px":"10px 40px",m=s?"0.9rem":"1rem";e.forEach((e=>{const t=document.createElement("div");t.className="blog-post-card",t.style.backgroundColor=i,t.style.borderRadius=`${l}px`,t.style.color=d,t.style.overflow="hidden",t.style.width="100%",t.style.height="100%",t.style.display="flex",t.style.flexDirection="column";let u="";e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0]&&e._embedded["wp:featuredmedia"][0].source_url&&(u=e._embedded["wp:featuredmedia"][0].source_url);let f="";if(e.excerpt&&e.excerpt.rendered){const n=document.createElement("div");n.innerHTML=e.excerpt.rendered,f=n.textContent||n.innerText,f=f.substring(0,100)+(f.length>100?"...":"")}t.innerHTML=`\n                <div class="blog-post-image-container" style="\n                    border-radius: ${l}px; \n                    overflow: hidden; \n                    background-color: #4D5A5E;\n                    position: relative;\n                    padding-top: ${s?"75%":"65%"};\n                ">\n                    ${u?`<img src="${u}" alt="${e.title.rendered}" class="blog-post-image" style="\n                            border-radius: ${l}px; \n                            object-fit: cover; \n                            width: 100%; \n                            height: 100%;\n                            position: absolute;\n                            top: 0;\n                            left: 0;\n                        ">`:`<div class="blog-post-image-placeholder" style="\n                            border-radius: ${l}px;\n                            position: absolute;\n                            top: 0;\n                            left: 0;\n                            width: 100%;\n                            height: 100%;\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                        "><span>No featured image</span></div>`}\n                </div>\n                <div class="blog-post-content" style="\n                    padding: ${a}; \n                    display: flex; \n                    flex-direction: column; \n                    gap: ${s?"8px":"10px"};\n                    flex-grow: 1;\n                ">\n                    <h3 class="blog-post-title" style="\n                        font-size: ${p}; \n                        font-weight: 600; \n                        line-height: 1.3; \n                        margin: 0; \n                        color: ${d};\n                    ">${e.title.rendered}</h3>\n                    <p class="blog-post-excerpt" style="\n                        font-size: ${c}; \n                        line-height: 1.6; \n                        margin: ${s?"8px 0":"10px 0"}; \n                        color: ${d};\n                        flex-grow: 1;\n                    ">${f}</p>\n                    <a \n                        href="${e.link}" \n                        class="blog-post-read-more"\n                        style="\n                            background-color: ${o};\n                            color: ${r};\n                            border-radius: 72px;\n                            padding: ${g};\n                            display: inline-flex;\n                            align-items: center;\n                            justify-content: center;\n                            text-decoration: none;\n                            font-weight: 500;\n                            margin-top: ${s?"8px":"10px"};\n                            width: fit-content;\n                            font-size: ${m};\n                        "\n                    >\n                        Read More\n                    </a>\n                </div>\n            `,n.appendChild(t)}))}(n,t,e):function(e){const n=window.innerWidth<768,t=n?"1.5rem":"2rem",o=n?"0.9rem":"1rem";e.style.gridTemplateColumns="1fr",e.innerHTML=`\n            <div class="blog-posts-empty" style="\n                padding: ${t};\n                text-align: center;\n                background-color: #f9f9f9;\n                border-radius: 8px;\n                width: 100%;\n                grid-column: 1 / -1;\n            ">\n                <p style="font-size: ${o};">No posts found matching your criteria.</p>\n            </div>\n        `}(t)})).catch((e=>{console.error("Error fetching posts:",e),function(e){const n=window.innerWidth<768,t=n?"1.5rem":"2rem",o=n?"0.9rem":"1rem";e.style.gridTemplateColumns="1fr",e.innerHTML=`\n            <div class="blog-posts-error" style="\n                padding: ${t};\n                text-align: center;\n                background-color: #f9f9f9;\n                border-radius: 8px;\n                width: 100%;\n                grid-column: 1 / -1;\n            ">\n                <p style="font-size: ${o};">Error loading posts. Please try again later.</p>\n            </div>\n        `}(t)}))}(t,o)})),window.addEventListener("resize",(function(){const n=window.innerWidth<768;e.forEach((function(e){const n=e.querySelector(".blog-posts-grid");n&&(window.innerWidth<480?(n.style.gridTemplateColumns="1fr",n.style.gap="16px"):window.innerWidth<992?(n.style.gridTemplateColumns="repeat(2, 1fr)",n.style.gap="20px"):window.innerWidth<1200?(n.style.gridTemplateColumns="repeat(3, 1fr)",n.style.gap="24px"):(n.style.gridTemplateColumns="repeat(4, 1fr)",n.style.gap="24px"))})),n!==t&&location.reload()}))}));